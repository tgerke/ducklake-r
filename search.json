[{"path":"https://tgerke.github.io/ducklake-r/LICENSE.html","id":null,"dir":"","previous_headings":"","what":"MIT License","title":"MIT License","text":"Copyright (c) 2025 ducklake authors Permission hereby granted, free charge, person obtaining copy software associated documentation files (“Software”), deal Software without restriction, including without limitation rights use, copy, modify, merge, publish, distribute, sublicense, /sell copies Software, permit persons Software furnished , subject following conditions: copyright notice permission notice shall included copies substantial portions Software. SOFTWARE PROVIDED “”, WITHOUT WARRANTY KIND, EXPRESS IMPLIED, INCLUDING LIMITED WARRANTIES MERCHANTABILITY, FITNESS PARTICULAR PURPOSE NONINFRINGEMENT. EVENT SHALL AUTHORS COPYRIGHT HOLDERS LIABLE CLAIM, DAMAGES LIABILITY, WHETHER ACTION CONTRACT, TORT OTHERWISE, ARISING , CONNECTION SOFTWARE USE DEALINGS SOFTWARE.","code":""},{"path":"https://tgerke.github.io/ducklake-r/articles/ducklake.html","id":"introduction","dir":"Articles","previous_headings":"","what":"Introduction","title":"Getting Started with ducklake","text":"ducklake R package complements existing toolkits duckdb duckplyr packages, supporting new DuckLake ecosystem.","code":""},{"path":"https://tgerke.github.io/ducklake-r/articles/ducklake.html","id":"installation","dir":"Articles","previous_headings":"","what":"Installation","title":"Getting Started with ducklake","text":"Install development version ducklake :","code":"pak::pak(\"tgerke/ducklake-r\")"},{"path":"https://tgerke.github.io/ducklake-r/articles/ducklake.html","id":"create-a-local-duckdb-lakehouse","dir":"Articles","previous_headings":"","what":"Create a local duckdb lakehouse","title":"Getting Started with ducklake","text":"","code":"# install the ducklake extension to duckdb  # requires that you already have DuckDB v1.3.0 or higher install_ducklake()  # create the ducklake attach_ducklake(\"my_ducklake\") # show that we have ducklake files list.files()  # create a table using the Netherlands train traffic dataset  create_table(\"nl_train_stations\", \"https://blobs.duckdb.org/nl_stations.csv\") # show that we now have a .files directory list.files() # main/ is where the parquet files go list.files(\"my_ducklake.ducklake.files/main/nl_train_stations\")  # create a table from an R data.frame create_table(\"mtcars_table\", mtcars) list.files(\"my_ducklake.ducklake.files/main/mtcars_table\")"},{"path":"https://tgerke.github.io/ducklake-r/articles/ducklake.html","id":"view-metadata-and-snapshots","dir":"Articles","previous_headings":"","what":"View metadata and snapshots","title":"Getting Started with ducklake","text":"","code":"# List all tables in the lake get_ducklake_table(\"duckdb_tables\") |>    select(database_name, schema_name, table_name) |>    print(n = Inf)  # View snapshot history get_metadata_table(\"ducklake_snapshot_changes\", ducklake_name = \"my_ducklake\") get_metadata_table(\"ducklake_snapshot\", ducklake_name = \"my_ducklake\")"},{"path":"https://tgerke.github.io/ducklake-r/articles/ducklake.html","id":"cleanup","dir":"Articles","previous_headings":"","what":"Cleanup","title":"Getting Started with ducklake","text":"","code":"# When done, detach from the ducklake detach_ducklake(\"my_ducklake\")"},{"path":"https://tgerke.github.io/ducklake-r/articles/ducklake.html","id":"next-steps","dir":"Articles","previous_headings":"","what":"Next steps","title":"Getting Started with ducklake","text":"Learn modifying tables Explore upsert operations Work transactions Query historical data time travel","code":""},{"path":"https://tgerke.github.io/ducklake-r/articles/modifying-tables.html","id":"two-approaches-for-table-modifications","dir":"Articles","previous_headings":"","what":"Two approaches for table modifications","title":"Modifying Tables","text":"ducklake provides two complementary approaches modifying tables, following tidyverse conventions:","code":""},{"path":"https://tgerke.github.io/ducklake-r/articles/modifying-tables.html","id":"data-frame-approach-rows_-functions","dir":"Articles","previous_headings":"Two approaches for table modifications","what":"1. data.frame approach (rows_* functions)","title":"Modifying Tables","text":"Best data R (data.frames/tibbles) want apply table: Pros: Explicit, familiar dplyr syntax, in_place = TRUE default DuckLakeUse : data.frames/tibbles ready apply","code":"# Prepare your data in R updates <- data.frame(id = c(1, 2), value = c(\"new1\", \"new2\"))  # Apply to table rows_update(get_ducklake_table(\"my_table\"), updates, by = \"id\")  # Update existing rows rows_insert(get_ducklake_table(\"my_table\"), new_data, by = \"id\")  # Insert new rows rows_upsert(get_ducklake_table(\"my_table\"), updates, by = \"id\")  # Update existing or insert new rows_delete(get_ducklake_table(\"my_table\"), to_delete, by = \"id\")  # Delete rows by key"},{"path":"https://tgerke.github.io/ducklake-r/articles/modifying-tables.html","id":"pipeline-approach-_table-functions","dir":"Articles","previous_headings":"Two approaches for table modifications","what":"2. Pipeline approach (*_table functions)","title":"Modifying Tables","text":"Best ’re transforming data dplyr want apply results table: Pros: Chainable, works pipelines, table name inferenceUse : Transforming data filter(), mutate(), summarize(), etc.","code":"# Build transformation pipeline, then execute get_ducklake_table(\"my_table\") |>   filter(status == \"active\") |>   mutate(processed = TRUE) |>   ducklake_exec()  # for updates  source_table |>   select(id, value) |>   mutate(value = toupper(value)) |>   upsert_table(\"target_table\", by = \"id\")  # for merge/upsert"},{"path":[]},{"path":"https://tgerke.github.io/ducklake-r/articles/modifying-tables.html","id":"update-with-rows_update","dir":"Articles","previous_headings":"Examples","what":"Update with rows_update()","title":"Modifying Tables","text":"","code":"# update the first row with ducklake::rows_update() # copy = TRUE and in_place = TRUE are the defaults for DuckLake operations rows_update(   get_ducklake_table(\"nl_train_stations\"),   data.frame(     uic = 8400319,     name_short = \"NEW\"   ),   by = \"uic\",   copy = TRUE,   unmatched = \"ignore\" )  # View the change get_ducklake_table(\"nl_train_stations\") |>   filter(uic == 8400319) |>   select(uic, name_short)"},{"path":"https://tgerke.github.io/ducklake-r/articles/modifying-tables.html","id":"update-with-pipeline-and-ducklake_exec","dir":"Articles","previous_headings":"Examples","what":"Update with pipeline and ducklake_exec()","title":"Modifying Tables","text":"","code":"# update with mutate and ducklake::ducklake_exec # table name is automatically inferred from the pipeline get_ducklake_table(\"nl_train_stations\") |>   mutate(     name_long = dplyr::case_when(       code == \"ASB\" ~ \"Johan Cruijff ArenA\",       .default = name_long     )   ) |>   ducklake_exec()"},{"path":"https://tgerke.github.io/ducklake-r/articles/modifying-tables.html","id":"preview-sql-before-execution","dir":"Articles","previous_headings":"Examples","what":"Preview SQL before execution","title":"Modifying Tables","text":"","code":"# if we want, we can always view the sql that will be submitted in advance get_ducklake_table(\"nl_train_stations\") |>   mutate(     name_long = dplyr::case_when(       code == \"ASB\" ~ \"Johan Cruijff ArenA\",       .default = name_long     )   ) |>   show_ducklake_query()"},{"path":"https://tgerke.github.io/ducklake-r/articles/modifying-tables.html","id":"filter-and-execute","dir":"Articles","previous_headings":"Examples","what":"Filter and execute","title":"Modifying Tables","text":"","code":"# filter using ducklake::ducklake_exec # with .quiet=FALSE we can see sql on execution, including the original dplyr get_ducklake_table(\"nl_train_stations\") |>   filter(uic == 8400319 | code == \"ASB\") |>   ducklake_exec(.quiet = FALSE)  # show our current table get_ducklake_table(\"nl_train_stations\")"},{"path":"https://tgerke.github.io/ducklake-r/articles/time-travel.html","id":"introduction-to-time-travel","dir":"Articles","previous_headings":"","what":"Introduction to time travel","title":"Time Travel Queries","text":"DuckLake supports querying historical data specific points time using built-snapshot functionality. allows : View data existed specific timestamp Query specific versions tables Restore tables previous states Audit changes time","code":""},{"path":"https://tgerke.github.io/ducklake-r/articles/time-travel.html","id":"time-travel-functions","dir":"Articles","previous_headings":"","what":"Time travel functions","title":"Time Travel Queries","text":"package provides several time-travel functions:","code":""},{"path":"https://tgerke.github.io/ducklake-r/articles/time-travel.html","id":"query-data-at-a-specific-timestamp","dir":"Articles","previous_headings":"Time travel functions","what":"Query data at a specific timestamp","title":"Time Travel Queries","text":"","code":"# Query data as it existed at a specific timestamp get_ducklake_table_asof(\"my_delta_table\", \"2024-01-15 10:30:00\") |>   filter(status == \"active\") |>   collect()  # Query data as it existed yesterday yesterday <- Sys.time() - (24 * 60 * 60) get_ducklake_table_asof(\"my_delta_table\", yesterday) |>   summarise(n = n())"},{"path":"https://tgerke.github.io/ducklake-r/articles/time-travel.html","id":"query-a-specific-version","dir":"Articles","previous_headings":"Time travel functions","what":"Query a specific version","title":"Time Travel Queries","text":"","code":"# Query a specific version/snapshot number get_ducklake_table_version(\"my_delta_table\", version = 5) |>   collect()"},{"path":"https://tgerke.github.io/ducklake-r/articles/time-travel.html","id":"list-available-snapshots","dir":"Articles","previous_headings":"Time travel functions","what":"List available snapshots","title":"Time Travel Queries","text":"","code":"# List all available snapshots for a table list_table_snapshots(\"my_delta_table\")"},{"path":"https://tgerke.github.io/ducklake-r/articles/time-travel.html","id":"restore-to-a-previous-version","dir":"Articles","previous_headings":"Time travel functions","what":"Restore to a previous version","title":"Time Travel Queries","text":"","code":"# Restore table to a previous version by version number restore_table_version(\"my_delta_table\", version = 3)  # Or restore to a specific timestamp restore_table_version(\"my_delta_table\", timestamp = \"2024-01-15 10:00:00\")"},{"path":"https://tgerke.github.io/ducklake-r/articles/time-travel.html","id":"use-cases","dir":"Articles","previous_headings":"","what":"Use cases","title":"Time Travel Queries","text":"Time travel particularly useful : Auditing: Track changed Debugging: Identify data issues introduced Recovery: Restore accidentally modified deleted data Reporting: Generate reports based historical data snapshots Compliance: Maintain historical records regulatory requirements","code":""},{"path":"https://tgerke.github.io/ducklake-r/articles/time-travel.html","id":"example-workflow","dir":"Articles","previous_headings":"","what":"Example workflow","title":"Time Travel Queries","text":"","code":"# Setup install_ducklake() attach_ducklake(\"my_ducklake\") create_table(\"employees\", employee_data)  # Make some changes over time rows_update(get_ducklake_table(\"employees\"), updates_jan, by = \"id\") rows_update(get_ducklake_table(\"employees\"), updates_feb, by = \"id\")  # View snapshot history list_table_snapshots(\"employees\")  # Compare current data with previous version current <- get_ducklake_table(\"employees\") |> collect() previous <- get_ducklake_table_version(\"employees\", version = 2) |> collect()  # If needed, restore to previous version restore_table_version(\"employees\", version = 2)"},{"path":"https://tgerke.github.io/ducklake-r/articles/transactions.html","id":"transaction-support","dir":"Articles","previous_headings":"","what":"Transaction support","title":"Working with Transactions","text":"Group multiple operations together ACID transactions. ensures either operations succeed none , maintaining data consistency.","code":""},{"path":"https://tgerke.github.io/ducklake-r/articles/transactions.html","id":"basic-transaction-workflow","dir":"Articles","previous_headings":"","what":"Basic transaction workflow","title":"Working with Transactions","text":"","code":"# Check what data we currently have get_ducklake_table(\"nl_train_stations\") |>   filter(code %in% c(\"HT\", \"ASB\")) |>   select(code, name_short) |>   collect() # Start a transaction begin_transaction()  # Make multiple changes atomically within the transaction duckplyr::db_exec(\"UPDATE nl_train_stations SET name_short = 'COMMITTED_CHANGE' WHERE code = 'HT'\") duckplyr::db_exec(\"UPDATE nl_train_stations SET name_short = 'ALSO_COMMITTED' WHERE code = 'ASB'\")  # Commit both changes together commit_transaction()  # Add author and commit message metadata to the snapshot set_snapshot_metadata(   ducklake_name = \"my_ducklake\",   author = \"Data Team\",   commit_message = \"Updated station names for clarity\" )  # Verify the changes were applied get_ducklake_table(\"nl_train_stations\") |>   filter(code %in% c(\"HT\", \"ASB\")) |>   select(code, name_short) |>   collect()"},{"path":"https://tgerke.github.io/ducklake-r/articles/transactions.html","id":"view-commit-history","dir":"Articles","previous_headings":"","what":"View commit history","title":"Working with Transactions","text":"","code":"# View the recent commit history with metadata get_metadata_table(\"ducklake_snapshot_changes\", ducklake_name = \"my_ducklake\") |>   select(snapshot_id, changes_made, author, commit_message) |>   collect() |>   tail(3)"},{"path":"https://tgerke.github.io/ducklake-r/articles/transactions.html","id":"rolling-back-transactions","dir":"Articles","previous_headings":"","what":"Rolling back transactions","title":"Working with Transactions","text":"need undo changes committing:","code":"# Start another transaction begin_transaction()  # Make a change we'll roll back duckplyr::db_exec(\"UPDATE nl_train_stations SET name_short = 'ROLLBACK_TEST' WHERE code = 'HT'\")  # Decide to rollback instead of commit rollback_transaction()  # Verify the change was NOT applied (should still be \"COMMITTED_CHANGE\") get_ducklake_table(\"nl_train_stations\") |>   filter(code == \"HT\") |>   select(code, name_short) |>   collect()"},{"path":"https://tgerke.github.io/ducklake-r/articles/transactions.html","id":"key-concepts","dir":"Articles","previous_headings":"","what":"Key concepts","title":"Working with Transactions","text":"begin_transaction(): Start new transaction commit_transaction(): Apply changes made within transaction rollback_transaction(): Discard changes made within transaction set_snapshot_metadata(): Add metadata (author, commit message) snapshots Transactions essential maintaining data integrity making multiple related changes.","code":""},{"path":"https://tgerke.github.io/ducklake-r/articles/upsert-operations.html","id":"what-is-upsert","dir":"Articles","previous_headings":"","what":"What is upsert?","title":"Upsert Operations","text":"Upsert (merge) operations allow update existing rows insert new ones based key. useful data may contain updates existing records new records.","code":""},{"path":"https://tgerke.github.io/ducklake-r/articles/upsert-operations.html","id":"using-rows_upsert-with-data-frames","dir":"Articles","previous_headings":"","what":"Using rows_upsert() with data.frames","title":"Upsert Operations","text":"data R want upsert table:","code":"# Create some data to upsert upsert_data <- data.frame(   uic = c(8400319, 9999999),  # 8400319 exists, 9999999 is new   name_short = c(\"UPDATED\", \"NEW\"),   name_long = c(\"Updated Station\", \"New Station\"),   code = c(\"UPD\", \"NEW\"),   stringsAsFactors = FALSE )  # Use rows_upsert for data.frames (copy = TRUE and in_place = TRUE by default) rows_upsert(   get_ducklake_table(\"nl_train_stations\"),   upsert_data,   by = \"uic\",   copy = TRUE )  # View the results - both the updated and new row get_ducklake_table(\"nl_train_stations\") |>   filter(uic %in% c(8400319, 9999999)) |>   select(uic, name_short, name_long, code)"},{"path":"https://tgerke.github.io/ducklake-r/articles/upsert-operations.html","id":"using-upsert_table-with-pipelines","dir":"Articles","previous_headings":"","what":"Using upsert_table() with pipelines","title":"Upsert Operations","text":"’re transforming data dplyr want upsert results:","code":"# Create a source table source_data <- data.frame(   id = c(1, 2, 3),   value = c(\"apple\", \"banana\", \"cherry\"),   count = c(10, 20, 30) ) create_table(\"source_table\", source_data)  # Create a target table with some overlapping data target_data <- data.frame(   id = c(1, 2),   value = c(\"old_apple\", \"old_banana\"),   count = c(5, 15) ) create_table(\"target_table\", target_data)  # Transform and upsert in a pipeline get_ducklake_table(\"source_table\") |>   select(id, value, count) |>   mutate(value = toupper(value)) |>   upsert_table(\"target_table\", by = \"id\")  # View the merged results get_ducklake_table(\"target_table\") |>   select(id, value, count)"},{"path":"https://tgerke.github.io/ducklake-r/articles/upsert-operations.html","id":"key-considerations","dir":"Articles","previous_headings":"","what":"Key considerations","title":"Upsert Operations","text":"parameter specifies column(s) use key matching rows_upsert(), copy = TRUE in_place = TRUE defaults DuckLake operations Existing rows updated, new rows inserted based key match","code":""},{"path":"https://tgerke.github.io/ducklake-r/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Travis Gerke. Author, maintainer.","code":""},{"path":"https://tgerke.github.io/ducklake-r/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Gerke T (2026). ducklake: Interact DuckLake R. R package version 0.0.0.9000, https://tgerke.github.io/ducklake-r/.","code":"@Manual{,   title = {ducklake: Interact with DuckLake from R},   author = {Travis Gerke},   year = {2026},   note = {R package version 0.0.0.9000},   url = {https://tgerke.github.io/ducklake-r/}, }"},{"path":"https://tgerke.github.io/ducklake-r/index.html","id":"ducklake-","dir":"","previous_headings":"","what":"ducklake: Interact with DuckLake from R","title":"ducklake: Interact with DuckLake from R","text":"ducklake R package complements existing toolkits duckdb duckplyr packages, supporting new DuckLake ecosystem.","code":""},{"path":"https://tgerke.github.io/ducklake-r/index.html","id":"installation","dir":"","previous_headings":"","what":"Installation","title":"ducklake: Interact with DuckLake from R","text":"Install development version ducklake :","code":"pak::pak(\"tgerke/ducklake-r\")"},{"path":"https://tgerke.github.io/ducklake-r/index.html","id":"quick-example","dir":"","previous_headings":"","what":"Quick example","title":"ducklake: Interact with DuckLake from R","text":"","code":"library(ducklake) library(dplyr)  # Install the ducklake extension (requires DuckDB v1.3.0 or higher) install_ducklake()  # Create a lakehouse attach_ducklake(\"my_ducklake\")  # Create a table create_table(\"nl_train_stations\", \"https://blobs.duckdb.org/nl_stations.csv\")  # View the data get_ducklake_table(\"nl_train_stations\") |>   select(code, name_short, name_long) |>   head(5) #> # Source:   SQL [?? x 3] #> # Database: DuckDB 1.4.4 [tgerke@Darwin 23.6.0:R 4.5.2//private/var/folders/b7/664jmq55319dcb7y4jdb39zr0000gq/T/Rtmpm6OHxc/duckplyr/duckplyr143e97f37364.duckdb] #>   code  name_short name_long             #>   <chr> <chr>      <chr>                 #> 1 HT    Den Bosch  's-Hertogenbosch      #> 2 HTO   Dn Bosch O 's-Hertogenbosch Oost #> 3 HDE   't Harde   't Harde              #> 4 AHBF  Aachen     Aachen Hbf            #> 5 AW    Aachen W   Aachen West  # Update with dplyr syntax get_ducklake_table(\"nl_train_stations\") |>   mutate(name_short = toupper(name_short)) |>   ducklake_exec() #> [1] 578  # Clean up detach_ducklake(\"my_ducklake\")"},{"path":"https://tgerke.github.io/ducklake-r/index.html","id":"learn-more","dir":"","previous_headings":"","what":"Learn more","title":"ducklake: Interact with DuckLake from R","text":"Check pkgdown site detailed vignettes: Getting Started - Create first lakehouse Modifying Tables - Two approaches table modifications Upsert Operations - Merge update data Transactions - ACID transaction support Time Travel - Query historical data","code":""},{"path":"https://tgerke.github.io/ducklake-r/index.html","id":"key-features","dir":"","previous_headings":"","what":"Key features","title":"ducklake: Interact with DuckLake from R","text":"Tidyverse-style interface DuckLake operations Two complementary approaches: rows_* functions data.frames pipeline functions dplyr workflows ACID transactions metadata tracking Time travel queries access historical snapshots Seamless integration duckdb duckplyr","code":""},{"path":"https://tgerke.github.io/ducklake-r/reference/attach_ducklake.html","id":null,"dir":"Reference","previous_headings":"","what":"Create or attach a ducklake — attach_ducklake","title":"Create or attach a ducklake — attach_ducklake","text":"function wrapper ducklake ATTACH command. create new DuckDB-backed DuckLake specified name exist, connect existing DuckLake exist. connection stored package environment can closed detach_ducklake().","code":""},{"path":"https://tgerke.github.io/ducklake-r/reference/attach_ducklake.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Create or attach a ducklake — attach_ducklake","text":"","code":"attach_ducklake(ducklake_name, data_path = NULL)"},{"path":"https://tgerke.github.io/ducklake-r/reference/attach_ducklake.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Create or attach a ducklake — attach_ducklake","text":"ducklake_name Name ducklake file, ducklake:{ducklake_name}.ducklake data_path Optional directory Parquet files stored. specified, uses default folder {ducklake_name}.ducklake.files directory DuckLake .","code":""},{"path":[]},{"path":"https://tgerke.github.io/ducklake-r/reference/begin_transaction.html","id":null,"dir":"Reference","previous_headings":"","what":"Begin a transaction — begin_transaction","title":"Begin a transaction — begin_transaction","text":"Starts new transaction DuckDB connection. subsequent operations part transaction committed rolled back.","code":""},{"path":"https://tgerke.github.io/ducklake-r/reference/begin_transaction.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Begin a transaction — begin_transaction","text":"","code":"begin_transaction(conn = NULL)"},{"path":"https://tgerke.github.io/ducklake-r/reference/begin_transaction.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Begin a transaction — begin_transaction","text":"conn Optional DuckDB connection object. provided, uses default ducklake connection.","code":""},{"path":"https://tgerke.github.io/ducklake-r/reference/begin_transaction.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Begin a transaction — begin_transaction","text":"Invisibly returns TRUE success","code":""},{"path":"https://tgerke.github.io/ducklake-r/reference/begin_transaction.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Begin a transaction — begin_transaction","text":"Transactions allow group multiple operations together ensure either succeed fail. Use commit_transaction() apply changes rollback_transaction() discard . DuckDB supports full ACID transactions multiple isolation levels.","code":""},{"path":"https://tgerke.github.io/ducklake-r/reference/begin_transaction.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Begin a transaction — begin_transaction","text":"","code":"if (FALSE) { # \\dontrun{ # Start a transaction begin_transaction()  # Make some changes get_ducklake_table(\"my_table\") |>   filter(status == \"pending\") |>   mutate(status = \"processed\") |>   ducklake_exec()  # Commit if everything looks good commit_transaction()  # Or rollback if something went wrong # rollback_transaction() } # }"},{"path":"https://tgerke.github.io/ducklake-r/reference/commit_transaction.html","id":null,"dir":"Reference","previous_headings":"","what":"Commit a transaction — commit_transaction","title":"Commit a transaction — commit_transaction","text":"Commits current transaction, making changes permanent.","code":""},{"path":"https://tgerke.github.io/ducklake-r/reference/commit_transaction.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Commit a transaction — commit_transaction","text":"","code":"commit_transaction(conn = NULL)"},{"path":"https://tgerke.github.io/ducklake-r/reference/commit_transaction.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Commit a transaction — commit_transaction","text":"conn Optional DuckDB connection object. provided, uses default ducklake connection.","code":""},{"path":"https://tgerke.github.io/ducklake-r/reference/commit_transaction.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Commit a transaction — commit_transaction","text":"Invisibly returns TRUE success","code":""},{"path":"https://tgerke.github.io/ducklake-r/reference/commit_transaction.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Commit a transaction — commit_transaction","text":"function commits changes made since begin_transaction() called, making permanent database. DuckLake automatically tracks changes ducklake_snapshot_changes metadata table. add author commit message metadata snapshot, use set_snapshot_metadata() committing.","code":""},{"path":"https://tgerke.github.io/ducklake-r/reference/commit_transaction.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Commit a transaction — commit_transaction","text":"","code":"if (FALSE) { # \\dontrun{ begin_transaction() # ... make changes ... commit_transaction()  # Optionally add metadata to the snapshot set_snapshot_metadata(   ducklake_name = \"my_ducklake\",   author = \"John Doe\",   commit_message = \"Updated customer records\" ) } # }"},{"path":"https://tgerke.github.io/ducklake-r/reference/create_table.html","id":null,"dir":"Reference","previous_headings":"","what":"Create a DuckLake table — create_table","title":"Create a DuckLake table — create_table","text":"Create DuckLake table","code":""},{"path":"https://tgerke.github.io/ducklake-r/reference/create_table.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Create a DuckLake table — create_table","text":"","code":"create_table(table_name, data_source)"},{"path":"https://tgerke.github.io/ducklake-r/reference/create_table.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Create a DuckLake table — create_table","text":"table_name Name new table data_source Raw data source. Can : URL (http:// https://) file path (e.g., \"data.csv\", \"data.parquet\") R data.frame tibble","code":""},{"path":"https://tgerke.github.io/ducklake-r/reference/create_table.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Create a DuckLake table — create_table","text":"","code":"if (FALSE) { # \\dontrun{ # From URL create_table(\"my_table\", \"https://example.com/data.csv\")  # From local file create_table(\"my_table\", \"data.csv\")  # From data.frame create_table(\"my_table\", mtcars) } # }"},{"path":"https://tgerke.github.io/ducklake-r/reference/detach_ducklake.html","id":null,"dir":"Reference","previous_headings":"","what":"Detach from a ducklake — detach_ducklake","title":"Detach from a ducklake — detach_ducklake","text":"Closes DuckDB connection detaches current DuckLake.","code":""},{"path":"https://tgerke.github.io/ducklake-r/reference/detach_ducklake.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Detach from a ducklake — detach_ducklake","text":"","code":"detach_ducklake(ducklake_name = NULL)"},{"path":"https://tgerke.github.io/ducklake-r/reference/detach_ducklake.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Detach from a ducklake — detach_ducklake","text":"ducklake_name Optional name ducklake detach. provided, closes current connection.","code":""},{"path":"https://tgerke.github.io/ducklake-r/reference/detach_ducklake.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Detach from a ducklake — detach_ducklake","text":"","code":"if (FALSE) { # \\dontrun{ attach_ducklake(\"my_ducklake\") # ... do work ... detach_ducklake(\"my_ducklake\") } # }"},{"path":"https://tgerke.github.io/ducklake-r/reference/ducklake_exec.html","id":null,"dir":"Reference","previous_headings":"","what":"Execute DuckLake operations from dplyr queries — ducklake_exec","title":"Execute DuckLake operations from dplyr queries — ducklake_exec","text":"Execute DuckLake operations dplyr queries","code":""},{"path":"https://tgerke.github.io/ducklake-r/reference/ducklake_exec.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Execute DuckLake operations from dplyr queries — ducklake_exec","text":"","code":"ducklake_exec(.data, table_name = NULL, .quiet = TRUE)"},{"path":"https://tgerke.github.io/ducklake-r/reference/ducklake_exec.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Execute DuckLake operations from dplyr queries — ducklake_exec","text":".data dplyr query object (tbl_lazy) accumulated operations table_name target table name operation. provided, extracted table attribute (set get_ducklake_table()) .quiet Logical, whether suppress debug output (default TRUE)","code":""},{"path":"https://tgerke.github.io/ducklake-r/reference/ducklake_exec.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Execute DuckLake operations from dplyr queries — ducklake_exec","text":"result duckplyr::db_exec()","code":""},{"path":"https://tgerke.github.io/ducklake-r/reference/ducklake_exec.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Execute DuckLake operations from dplyr queries — ducklake_exec","text":"function automatically detects type operation based dplyr verbs: Filter-queries generate DELETE operations (removes rows match filter) Queries mutate() generate UPDATE operations queries generate INSERT operations","code":""},{"path":"https://tgerke.github.io/ducklake-r/reference/ducklake_exec.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Execute DuckLake operations from dplyr queries — ducklake_exec","text":"","code":"if (FALSE) { # \\dontrun{ # Delete rows that don't match filter (table name inferred) get_ducklake_table(\"my_table\") |>   filter(status == \"inactive\") |>   ducklake_exec()  # Update specific rows (table name inferred) get_ducklake_table(\"my_table\") |>   filter(id == 123) |>   mutate(status = \"updated\") |>   ducklake_exec()  # Or provide table name explicitly tbl(con, \"my_table\") |>   select(id, name) |>   mutate(computed_field = name * 2) |>   ducklake_exec(\"my_table\") } # }"},{"path":"https://tgerke.github.io/ducklake-r/reference/extract_assignments_from_sql.html","id":null,"dir":"Reference","previous_headings":"","what":"Extract column assignments from SQL SELECT statement — extract_assignments_from_sql","title":"Extract column assignments from SQL SELECT statement — extract_assignments_from_sql","text":"Extract column assignments SQL SELECT statement","code":""},{"path":"https://tgerke.github.io/ducklake-r/reference/extract_assignments_from_sql.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Extract column assignments from SQL SELECT statement — extract_assignments_from_sql","text":"","code":"extract_assignments_from_sql(sql_text)"},{"path":"https://tgerke.github.io/ducklake-r/reference/extract_assignments_from_sql.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Extract column assignments from SQL SELECT statement — extract_assignments_from_sql","text":"sql_text SQL SELECT statement","code":""},{"path":"https://tgerke.github.io/ducklake-r/reference/extract_assignments_from_sql.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Extract column assignments from SQL SELECT statement — extract_assignments_from_sql","text":"string comma-separated column assignments UPDATE SET clause","code":""},{"path":"https://tgerke.github.io/ducklake-r/reference/get_ducklake_connection.html","id":null,"dir":"Reference","previous_headings":"","what":"Get the current DuckLake connection — get_ducklake_connection","title":"Get the current DuckLake connection — get_ducklake_connection","text":"Get current DuckLake connection","code":""},{"path":"https://tgerke.github.io/ducklake-r/reference/get_ducklake_connection.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get the current DuckLake connection — get_ducklake_connection","text":"","code":"get_ducklake_connection()"},{"path":"https://tgerke.github.io/ducklake-r/reference/get_ducklake_connection.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get the current DuckLake connection — get_ducklake_connection","text":"DuckDB connection object","code":""},{"path":"https://tgerke.github.io/ducklake-r/reference/get_ducklake_table.html","id":null,"dir":"Reference","previous_headings":"","what":"Get a DuckLake table — get_ducklake_table","title":"Get a DuckLake table — get_ducklake_table","text":"Get DuckLake table","code":""},{"path":"https://tgerke.github.io/ducklake-r/reference/get_ducklake_table.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get a DuckLake table — get_ducklake_table","text":"","code":"get_ducklake_table(tbl_name)"},{"path":"https://tgerke.github.io/ducklake-r/reference/get_ducklake_table.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get a DuckLake table — get_ducklake_table","text":"tbl_name Character string, name table retrieve","code":""},{"path":"https://tgerke.github.io/ducklake-r/reference/get_ducklake_table.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get a DuckLake table — get_ducklake_table","text":"DuckLake table class tbl_duckdb_connection table name stored attribute","code":""},{"path":"https://tgerke.github.io/ducklake-r/reference/get_ducklake_table_asof.html","id":null,"dir":"Reference","previous_headings":"","what":"Query a table at a specific timestamp (time travel) — get_ducklake_table_asof","title":"Query a table at a specific timestamp (time travel) — get_ducklake_table_asof","text":"Retrieves data DuckDB table existed specific point time using DuckDB's snapshot/time-travel functionality.","code":""},{"path":"https://tgerke.github.io/ducklake-r/reference/get_ducklake_table_asof.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Query a table at a specific timestamp (time travel) — get_ducklake_table_asof","text":"","code":"get_ducklake_table_asof(table_name, timestamp, conn = NULL)"},{"path":"https://tgerke.github.io/ducklake-r/reference/get_ducklake_table_asof.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Query a table at a specific timestamp (time travel) — get_ducklake_table_asof","text":"table_name name table query timestamp POSIXct timestamp character string ISO 8601 format (e.g., \"2024-01-15 10:30:00\") conn Optional DuckDB connection object. provided, uses default ducklake connection.","code":""},{"path":"https://tgerke.github.io/ducklake-r/reference/get_ducklake_table_asof.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Query a table at a specific timestamp (time travel) — get_ducklake_table_asof","text":"dplyr lazy query object (tbl_lazy) can manipulated dplyr verbs","code":""},{"path":"https://tgerke.github.io/ducklake-r/reference/get_ducklake_table_asof.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Query a table at a specific timestamp (time travel) — get_ducklake_table_asof","text":"DuckDB supports time-travel queries using ASOF syntax, allowing query historical data existed specific timestamp. useful : Auditing changes time Recovering accidentally deleted modified data Comparing data states across different time points Note: functionality requires table properly configured DuckDB's time-travel features (e.g., Delta Lake tables snapshot support).","code":""},{"path":"https://tgerke.github.io/ducklake-r/reference/get_ducklake_table_asof.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Query a table at a specific timestamp (time travel) — get_ducklake_table_asof","text":"","code":"if (FALSE) { # \\dontrun{ # Query data as it existed yesterday yesterday <- Sys.time() - (24 * 60 * 60) get_ducklake_table_asof(\"my_table\", yesterday) |>   filter(category == \"A\") |>   collect()  # Query data at a specific timestamp get_ducklake_table_asof(\"my_table\", \"2024-01-15 10:30:00\") |>   summarise(total = sum(amount)) } # }"},{"path":"https://tgerke.github.io/ducklake-r/reference/get_ducklake_table_version.html","id":null,"dir":"Reference","previous_headings":"","what":"Query a table at a specific version/snapshot — get_ducklake_table_version","title":"Query a table at a specific version/snapshot — get_ducklake_table_version","text":"Retrieves data DuckDB table specific version snapshot number.","code":""},{"path":"https://tgerke.github.io/ducklake-r/reference/get_ducklake_table_version.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Query a table at a specific version/snapshot — get_ducklake_table_version","text":"","code":"get_ducklake_table_version(table_name, version, conn = NULL)"},{"path":"https://tgerke.github.io/ducklake-r/reference/get_ducklake_table_version.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Query a table at a specific version/snapshot — get_ducklake_table_version","text":"table_name name table query version version snapshot number query conn Optional DuckDB connection object. provided, uses default ducklake connection.","code":""},{"path":"https://tgerke.github.io/ducklake-r/reference/get_ducklake_table_version.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Query a table at a specific version/snapshot — get_ducklake_table_version","text":"dplyr lazy query object (tbl_lazy) can manipulated dplyr verbs","code":""},{"path":"https://tgerke.github.io/ducklake-r/reference/get_ducklake_table_version.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Query a table at a specific version/snapshot — get_ducklake_table_version","text":"function allows query specific version/snapshot table. particularly useful Delta Lake Iceberg tables maintain version history.","code":""},{"path":"https://tgerke.github.io/ducklake-r/reference/get_ducklake_table_version.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Query a table at a specific version/snapshot — get_ducklake_table_version","text":"","code":"if (FALSE) { # \\dontrun{ # Query version 5 of a table get_ducklake_table_version(\"my_table\", 5) |>   filter(status == \"active\") |>   collect() } # }"},{"path":"https://tgerke.github.io/ducklake-r/reference/get_metadata_table.html","id":null,"dir":"Reference","previous_headings":"","what":"Get a DuckLake metadata table — get_metadata_table","title":"Get a DuckLake metadata table — get_metadata_table","text":"Get DuckLake metadata table","code":""},{"path":"https://tgerke.github.io/ducklake-r/reference/get_metadata_table.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get a DuckLake metadata table — get_metadata_table","text":"","code":"get_metadata_table(tbl_name, ducklake_name)"},{"path":"https://tgerke.github.io/ducklake-r/reference/get_metadata_table.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get a DuckLake metadata table — get_metadata_table","text":"tbl_name Character string, name table retrieve ducklake_name Character string, name ducklake database","code":""},{"path":"https://tgerke.github.io/ducklake-r/reference/get_metadata_table.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get a DuckLake metadata table — get_metadata_table","text":"DuckLake table class tbl_duckdb_connection","code":""},{"path":"https://tgerke.github.io/ducklake-r/reference/install_ducklake.html","id":null,"dir":"Reference","previous_headings":"","what":"Install the ducklake extension to duckdb — install_ducklake","title":"Install the ducklake extension to duckdb — install_ducklake","text":"needs run system.","code":""},{"path":"https://tgerke.github.io/ducklake-r/reference/install_ducklake.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Install the ducklake extension to duckdb — install_ducklake","text":"","code":"install_ducklake()"},{"path":"https://tgerke.github.io/ducklake-r/reference/install_ducklake.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Install the ducklake extension to duckdb — install_ducklake","text":"","code":"ducklake::install_ducklake()"},{"path":"https://tgerke.github.io/ducklake-r/reference/list_table_snapshots.html","id":null,"dir":"Reference","previous_headings":"","what":"List available snapshots for a table — list_table_snapshots","title":"List available snapshots for a table — list_table_snapshots","text":"Retrieves information available snapshots/versions table.","code":""},{"path":"https://tgerke.github.io/ducklake-r/reference/list_table_snapshots.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"List available snapshots for a table — list_table_snapshots","text":"","code":"list_table_snapshots(table_name, conn = NULL)"},{"path":"https://tgerke.github.io/ducklake-r/reference/list_table_snapshots.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"List available snapshots for a table — list_table_snapshots","text":"table_name name table query conn Optional DuckDB connection object. provided, uses default ducklake connection.","code":""},{"path":"https://tgerke.github.io/ducklake-r/reference/list_table_snapshots.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"List available snapshots for a table — list_table_snapshots","text":"data frame snapshot information (version, timestamp, etc.)","code":""},{"path":"https://tgerke.github.io/ducklake-r/reference/list_table_snapshots.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"List available snapshots for a table — list_table_snapshots","text":"function queries snapshot history table, showing available versions timestamps. useful understanding historical versions available time-travel queries. Note: exact format availability information depends table format (Delta Lake, Iceberg, etc.).","code":""},{"path":"https://tgerke.github.io/ducklake-r/reference/list_table_snapshots.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"List available snapshots for a table — list_table_snapshots","text":"","code":"if (FALSE) { # \\dontrun{ # List all snapshots for a table list_table_snapshots(\"my_table\") } # }"},{"path":"https://tgerke.github.io/ducklake-r/reference/restore_table_version.html","id":null,"dir":"Reference","previous_headings":"","what":"Restore a table to a previous version — restore_table_version","title":"Restore a table to a previous version — restore_table_version","text":"Restores table specific version timestamp, reverting changes made point.","code":""},{"path":"https://tgerke.github.io/ducklake-r/reference/restore_table_version.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Restore a table to a previous version — restore_table_version","text":"","code":"restore_table_version(   table_name,   version = NULL,   timestamp = NULL,   conn = NULL )"},{"path":"https://tgerke.github.io/ducklake-r/reference/restore_table_version.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Restore a table to a previous version — restore_table_version","text":"table_name name table restore version Optional version number restore timestamp Optional timestamp restore (POSIXct character) conn Optional DuckDB connection object. provided, uses default ducklake connection.","code":""},{"path":"https://tgerke.github.io/ducklake-r/reference/restore_table_version.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Restore a table to a previous version — restore_table_version","text":"Invisibly returns TRUE success","code":""},{"path":"https://tgerke.github.io/ducklake-r/reference/restore_table_version.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Restore a table to a previous version — restore_table_version","text":"function restores table previous state. must specify either version timestamp, . WARNING: operation modifies table easily undone. Consider using within transaction backing data first.","code":""},{"path":"https://tgerke.github.io/ducklake-r/reference/restore_table_version.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Restore a table to a previous version — restore_table_version","text":"","code":"if (FALSE) { # \\dontrun{ # Restore to version 5 restore_table_version(\"my_table\", version = 5)  # Restore to a specific timestamp restore_table_version(\"my_table\", timestamp = \"2024-01-15 10:00:00\") } # }"},{"path":"https://tgerke.github.io/ducklake-r/reference/rollback_transaction.html","id":null,"dir":"Reference","previous_headings":"","what":"Rollback a transaction — rollback_transaction","title":"Rollback a transaction — rollback_transaction","text":"Rolls back current transaction, discarding changes made since transaction began.","code":""},{"path":"https://tgerke.github.io/ducklake-r/reference/rollback_transaction.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Rollback a transaction — rollback_transaction","text":"","code":"rollback_transaction(conn = NULL)"},{"path":"https://tgerke.github.io/ducklake-r/reference/rollback_transaction.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Rollback a transaction — rollback_transaction","text":"conn Optional DuckDB connection object. provided, uses default ducklake connection.","code":""},{"path":"https://tgerke.github.io/ducklake-r/reference/rollback_transaction.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Rollback a transaction — rollback_transaction","text":"Invisibly returns TRUE success","code":""},{"path":"https://tgerke.github.io/ducklake-r/reference/rollback_transaction.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Rollback a transaction — rollback_transaction","text":"function discards changes made since begin_transaction() called, reverting database state transaction began.","code":""},{"path":"https://tgerke.github.io/ducklake-r/reference/rollback_transaction.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Rollback a transaction — rollback_transaction","text":"","code":"if (FALSE) { # \\dontrun{ begin_transaction() # ... make changes ... # Something went wrong, rollback rollback_transaction() } # }"},{"path":"https://tgerke.github.io/ducklake-r/reference/rows_delete.html","id":null,"dir":"Reference","previous_headings":"","what":"Delete rows from a DuckLake table — rows_delete","title":"Delete rows from a DuckLake table — rows_delete","text":"wrapper around dplyr::rows_delete() in_place = TRUE default, since DuckLake designed -place modifications.","code":""},{"path":"https://tgerke.github.io/ducklake-r/reference/rows_delete.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Delete rows from a DuckLake table — rows_delete","text":"","code":"rows_delete(   x,   y,   by = NULL,   copy = TRUE,   in_place = TRUE,   unmatched = \"error\",   ... )"},{"path":"https://tgerke.github.io/ducklake-r/reference/rows_delete.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Delete rows from a DuckLake table — rows_delete","text":"x Target table (get_ducklake_table()) y Data frame rows delete (matched '' columns) Column(s) match copy Whether copy y source x (default TRUE) in_place Whether modify table place (default TRUE DuckLake) unmatched handle unmatched rows (default \"error\") ... Additional arguments passed dplyr::rows_delete()","code":""},{"path":"https://tgerke.github.io/ducklake-r/reference/rows_delete.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Delete rows from a DuckLake table — rows_delete","text":"updated table","code":""},{"path":"https://tgerke.github.io/ducklake-r/reference/rows_delete.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Delete rows from a DuckLake table — rows_delete","text":"","code":"if (FALSE) { # \\dontrun{ rows_delete(   get_ducklake_table(\"my_table\"),   data.frame(id = c(1, 2, 3)),   by = \"id\" ) } # }"},{"path":"https://tgerke.github.io/ducklake-r/reference/rows_insert.html","id":null,"dir":"Reference","previous_headings":"","what":"Insert rows into a DuckLake table — rows_insert","title":"Insert rows into a DuckLake table — rows_insert","text":"wrapper around dplyr::rows_insert() in_place = TRUE default, since DuckLake designed -place modifications.","code":""},{"path":"https://tgerke.github.io/ducklake-r/reference/rows_insert.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Insert rows into a DuckLake table — rows_insert","text":"","code":"rows_insert(   x,   y,   by = NULL,   copy = TRUE,   in_place = TRUE,   conflict = \"error\",   ... )"},{"path":"https://tgerke.github.io/ducklake-r/reference/rows_insert.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Insert rows into a DuckLake table — rows_insert","text":"x Target table (get_ducklake_table()) y Data frame new rows Column(s) match (conflict detection) copy Whether copy y source x (default TRUE) in_place Whether modify table place (default TRUE DuckLake) conflict handle conflicts (default \"error\") ... Additional arguments passed dplyr::rows_insert()","code":""},{"path":"https://tgerke.github.io/ducklake-r/reference/rows_insert.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Insert rows into a DuckLake table — rows_insert","text":"updated table","code":""},{"path":"https://tgerke.github.io/ducklake-r/reference/rows_insert.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Insert rows into a DuckLake table — rows_insert","text":"","code":"if (FALSE) { # \\dontrun{ rows_insert(   get_ducklake_table(\"my_table\"),   data.frame(id = 99, value = \"new row\"),   by = \"id\" ) } # }"},{"path":"https://tgerke.github.io/ducklake-r/reference/rows_patch.html","id":null,"dir":"Reference","previous_headings":"","what":"Patch rows in a DuckLake table — rows_patch","title":"Patch rows in a DuckLake table — rows_patch","text":"wrapper around dplyr::rows_patch() in_place = TRUE default, since DuckLake designed -place modifications.","code":""},{"path":"https://tgerke.github.io/ducklake-r/reference/rows_patch.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Patch rows in a DuckLake table — rows_patch","text":"","code":"rows_patch(   x,   y,   by = NULL,   copy = TRUE,   in_place = TRUE,   unmatched = \"error\",   ... )"},{"path":"https://tgerke.github.io/ducklake-r/reference/rows_patch.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Patch rows in a DuckLake table — rows_patch","text":"x Target table (get_ducklake_table()) y Data frame patches (updates non-NA values) Column(s) match copy Whether copy y source x (default TRUE) in_place Whether modify table place (default TRUE DuckLake) unmatched handle unmatched rows (default \"error\") ... Additional arguments passed dplyr::rows_patch()","code":""},{"path":"https://tgerke.github.io/ducklake-r/reference/rows_patch.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Patch rows in a DuckLake table — rows_patch","text":"updated table","code":""},{"path":"https://tgerke.github.io/ducklake-r/reference/rows_patch.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Patch rows in a DuckLake table — rows_patch","text":"","code":"if (FALSE) { # \\dontrun{ # Patch (only update non-NA columns) rows_patch(   get_ducklake_table(\"my_table\"),   data.frame(id = 1, col1 = \"update\", col2 = NA),   by = \"id\" ) } # }"},{"path":"https://tgerke.github.io/ducklake-r/reference/rows_update.html","id":null,"dir":"Reference","previous_headings":"","what":"Update rows in a DuckLake table — rows_update","title":"Update rows in a DuckLake table — rows_update","text":"wrapper around dplyr::rows_update() in_place = TRUE default, since DuckLake designed -place modifications.","code":""},{"path":"https://tgerke.github.io/ducklake-r/reference/rows_update.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Update rows in a DuckLake table — rows_update","text":"","code":"rows_update(   x,   y,   by = NULL,   copy = TRUE,   in_place = TRUE,   unmatched = \"error\",   ... )"},{"path":"https://tgerke.github.io/ducklake-r/reference/rows_update.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Update rows in a DuckLake table — rows_update","text":"x Target table (get_ducklake_table()) y Data frame updates Column(s) match copy Whether copy y source x (default TRUE) in_place Whether modify table place (default TRUE DuckLake) unmatched handle unmatched rows (default \"error\") ... Additional arguments passed dplyr::rows_update()","code":""},{"path":"https://tgerke.github.io/ducklake-r/reference/rows_update.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Update rows in a DuckLake table — rows_update","text":"updated table","code":""},{"path":"https://tgerke.github.io/ducklake-r/reference/rows_update.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Update rows in a DuckLake table — rows_update","text":"","code":"if (FALSE) { # \\dontrun{ # Update rows - in_place = TRUE by default rows_update(   get_ducklake_table(\"my_table\"),   data.frame(id = 1, value = \"new\"),   by = \"id\" ) } # }"},{"path":"https://tgerke.github.io/ducklake-r/reference/rows_upsert.html","id":null,"dir":"Reference","previous_headings":"","what":"Upsert rows in a DuckLake table — rows_upsert","title":"Upsert rows in a DuckLake table — rows_upsert","text":"wrapper around dplyr::rows_upsert() in_place = TRUE default, since DuckLake designed -place modifications.","code":""},{"path":"https://tgerke.github.io/ducklake-r/reference/rows_upsert.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Upsert rows in a DuckLake table — rows_upsert","text":"","code":"rows_upsert(x, y, by = NULL, copy = TRUE, in_place = TRUE, ...)"},{"path":"https://tgerke.github.io/ducklake-r/reference/rows_upsert.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Upsert rows in a DuckLake table — rows_upsert","text":"x Target table (get_ducklake_table()) y Data frame rows upsert (update existing, insert new) Column(s) match copy Whether copy y source x (default TRUE) in_place Whether modify table place (default TRUE DuckLake) ... Additional arguments passed dplyr::rows_upsert()","code":""},{"path":"https://tgerke.github.io/ducklake-r/reference/rows_upsert.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Upsert rows in a DuckLake table — rows_upsert","text":"updated table","code":""},{"path":[]},{"path":"https://tgerke.github.io/ducklake-r/reference/rows_upsert.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Upsert rows in a DuckLake table — rows_upsert","text":"","code":"if (FALSE) { # \\dontrun{ # Upsert (update if exists, insert if new) rows_upsert(   get_ducklake_table(\"my_table\"),   data.frame(id = c(1, 99), value = c(\"updated\", \"new\")),   by = \"id\" ) } # }"},{"path":"https://tgerke.github.io/ducklake-r/reference/set_ducklake_connection.html","id":null,"dir":"Reference","previous_headings":"","what":"Set the DuckLake connection — set_ducklake_connection","title":"Set the DuckLake connection — set_ducklake_connection","text":"Set DuckLake connection","code":""},{"path":"https://tgerke.github.io/ducklake-r/reference/set_ducklake_connection.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Set the DuckLake connection — set_ducklake_connection","text":"","code":"set_ducklake_connection(conn)"},{"path":"https://tgerke.github.io/ducklake-r/reference/set_ducklake_connection.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Set the DuckLake connection — set_ducklake_connection","text":"conn DuckDB connection object","code":""},{"path":"https://tgerke.github.io/ducklake-r/reference/set_snapshot_metadata.html","id":null,"dir":"Reference","previous_headings":"","what":"Set metadata for the most recent snapshot — set_snapshot_metadata","title":"Set metadata for the most recent snapshot — set_snapshot_metadata","text":"Updates author, commit message, /extra info recent snapshot DuckLake catalog.","code":""},{"path":"https://tgerke.github.io/ducklake-r/reference/set_snapshot_metadata.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Set metadata for the most recent snapshot — set_snapshot_metadata","text":"","code":"set_snapshot_metadata(   ducklake_name,   author = NULL,   commit_message = NULL,   commit_extra_info = NULL,   conn = NULL )"},{"path":"https://tgerke.github.io/ducklake-r/reference/set_snapshot_metadata.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Set metadata for the most recent snapshot — set_snapshot_metadata","text":"ducklake_name name DuckLake catalog author Optional author name associate snapshot commit_message Optional commit message describing changes commit_extra_info Optional extra information commit conn Optional DuckDB connection object. provided, uses default ducklake connection.","code":""},{"path":"https://tgerke.github.io/ducklake-r/reference/set_snapshot_metadata.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Set metadata for the most recent snapshot — set_snapshot_metadata","text":"Invisibly returns TRUE success","code":""},{"path":"https://tgerke.github.io/ducklake-r/reference/set_snapshot_metadata.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Set metadata for the most recent snapshot — set_snapshot_metadata","text":"function updates metadata columns ducklake_snapshot_changes table recent snapshot. Call commit_transaction() add audit information commits.","code":""},{"path":"https://tgerke.github.io/ducklake-r/reference/set_snapshot_metadata.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Set metadata for the most recent snapshot — set_snapshot_metadata","text":"","code":"if (FALSE) { # \\dontrun{ begin_transaction() # ... make changes ... commit_transaction()  # Add metadata to the snapshot set_snapshot_metadata(   ducklake_name = \"my_ducklake\",   author = \"Data Team\",   commit_message = \"Updated station names for clarity\" ) } # }"},{"path":"https://tgerke.github.io/ducklake-r/reference/show_ducklake_query.html","id":null,"dir":"Reference","previous_headings":"","what":"Show the SQL that would be executed by ducklake operations — show_ducklake_query","title":"Show the SQL that would be executed by ducklake operations — show_ducklake_query","text":"function shows SQL generated executed ducklake. useful debugging understanding SQL sent DuckDB.","code":""},{"path":"https://tgerke.github.io/ducklake-r/reference/show_ducklake_query.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Show the SQL that would be executed by ducklake operations — show_ducklake_query","text":"","code":"show_ducklake_query(.data, table_name = NULL)"},{"path":"https://tgerke.github.io/ducklake-r/reference/show_ducklake_query.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Show the SQL that would be executed by ducklake operations — show_ducklake_query","text":".data dplyr query object (tbl_lazy) table_name target table name operation. provided, extracted table attribute (set get_ducklake_table())","code":""},{"path":"https://tgerke.github.io/ducklake-r/reference/show_ducklake_query.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Show the SQL that would be executed by ducklake operations — show_ducklake_query","text":"first argument, invisibly (following show_query convention)","code":""},{"path":"https://tgerke.github.io/ducklake-r/reference/show_ducklake_query.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Show the SQL that would be executed by ducklake operations — show_ducklake_query","text":"","code":"if (FALSE) { # \\dontrun{ # Show SQL for an update operation (table name inferred) get_ducklake_table(\"my_table\") |>   mutate(status = \"updated\") |>   show_ducklake_query() } # }"},{"path":"https://tgerke.github.io/ducklake-r/reference/update_table.html","id":null,"dir":"Reference","previous_headings":"","what":"Convert a dplyr query to DuckLake SQL operations — update_table","title":"Convert a dplyr query to DuckLake SQL operations — update_table","text":"Convert dplyr query DuckLake SQL operations","code":""},{"path":"https://tgerke.github.io/ducklake-r/reference/update_table.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Convert a dplyr query to DuckLake SQL operations — update_table","text":"","code":"update_table(.data, table_name, .quiet = FALSE)"},{"path":"https://tgerke.github.io/ducklake-r/reference/update_table.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Convert a dplyr query to DuckLake SQL operations — update_table","text":".data dplyr query object (tbl_lazy) table_name Table name (required using update_table) .quiet Logical, whether suppress debug output (default FALSE backward compatibility)","code":""},{"path":"https://tgerke.github.io/ducklake-r/reference/update_table.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Convert a dplyr query to DuckLake SQL operations — update_table","text":"SQL statement string","code":""},{"path":"https://tgerke.github.io/ducklake-r/reference/upsert_table.html","id":null,"dir":"Reference","previous_headings":"","what":"Upsert data from a dplyr query into a DuckLake table — upsert_table","title":"Upsert data from a dplyr query into a DuckLake table — upsert_table","text":"Performs MERGE operation: updates existing rows inserts new ones based matching keys. pipeline-based version rows_upsert() use dplyr queries.","code":""},{"path":"https://tgerke.github.io/ducklake-r/reference/upsert_table.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Upsert data from a dplyr query into a DuckLake table — upsert_table","text":"","code":"upsert_table(.data, table_name = NULL, by, .quiet = TRUE)"},{"path":"https://tgerke.github.io/ducklake-r/reference/upsert_table.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Upsert data from a dplyr query into a DuckLake table — upsert_table","text":".data dplyr query object (tbl_lazy) source data table_name target table name. provided, extracted table attribute (set get_ducklake_table()) Character vector column names match (merge keys) .quiet Logical, whether suppress debug output (default TRUE)","code":""},{"path":"https://tgerke.github.io/ducklake-r/reference/upsert_table.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Upsert data from a dplyr query into a DuckLake table — upsert_table","text":"result executing MERGE statement","code":""},{"path":"https://tgerke.github.io/ducklake-r/reference/upsert_table.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Upsert data from a dplyr query into a DuckLake table — upsert_table","text":"pipeline-based approach upserts, ideal transforming data dplyr verbs. upserting data.frames directly, see rows_upsert(). function generates DuckDB INSERT ... CONFLICT statement (provides MERGE/UPSERT functionality). Rows matched based columns specified . match found, row updated; , new row inserted. Note: function requires table PRIMARY KEY UNIQUE constraint columns specified . table constraints, use rows_upsert() instead.","code":""},{"path":[]},{"path":"https://tgerke.github.io/ducklake-r/reference/upsert_table.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Upsert data from a dplyr query into a DuckLake table — upsert_table","text":"","code":"if (FALSE) { # \\dontrun{ # Upsert data from a computed query get_ducklake_table(\"staging_table\") |>   mutate(processed = TRUE) |>   upsert_table(\"target_table\", by = \"id\")  # Upsert with table name inferred get_ducklake_table(\"my_table\") |>   filter(status == \"active\") |>   mutate(last_updated = Sys.time()) |>   upsert_table(by = c(\"id\", \"version\")) } # }"}]
